"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2401],{2401:(b,u,g)=>{g.r(u),g.d(u,{ChangePasswordPageModule:()=>y});var p=g(6895),n=g(433),t=g(8058),m=g(1407),h=g(4573),w=g(529),e=g(8274);function c(s,d){1&s&&(e.TgZ(0,"div",13),e._uU(1,"Password is Mandatory"),e.qZA())}function P(s,d){1&s&&(e.TgZ(0,"div",13),e._uU(1,"Old Password did not match"),e.qZA())}function f(s,d){1&s&&(e.TgZ(0,"div",13),e._uU(1,"New Password is Mandatory"),e.qZA())}function C(s,d){1&s&&(e.TgZ(0,"div",13),e._uU(1,"Re-Type Password does not match"),e.qZA())}function _(s,d){1&s&&(e.TgZ(0,"div",13),e._uU(1,"Confirm Password is Mandatory"),e.qZA())}const T=[{path:"",component:(()=>{class s{constructor(i,o,l,r,a){this.navCtrl=i,this.form=o,this.http=l,this.loadingCtrl=r,this.toastCtrl=a,this.model=new Array,this.mismatch=!1,this.submitted=!1,this.model.password="",this.model.newpassword="",this.model.confpassword="",this.FrmChangePwd=this.form.group({TxtPassword:[this.model.password,n.kI.compose([n.kI.required])],TxtNewPassword:[this.model.newpassword,n.kI.compose([n.kI.required])],TxtConfPassword:[this.model.confpassword,n.kI.compose([n.kI.required])]})}ionViewDidLoad(){console.log("ionViewDidLoad ChangePasswordPage")}onSubmit(i){if(this.model.newpassword===this.model.confpassword&&this.FrmChangePwd.valid){let o=this.loadingCtrl.create({message:"Please wait..."});o.then(r=>{r.present()});const l={client_key:h.L.client_key,user_id:localStorage.getItem("il_user_id"),password:this.model.password,newpassword:this.model.newpassword};this.http.post(h.L.baseURL+"/services/changePassword",l,{headers:(new w.WM).set("content-type","application/x-www-form-urlencoded")}).subscribe(r=>{o.then(a=>{a.dismiss()}),this.resultObj=r,200==this.resultObj.code?(this.toastCtrl.create({message:"Password changed successfully.",position:"top",duration:2700}).then(a=>{a.present()}),this.navCtrl.navigateForward("/profile")):503==this.resultObj.code?(this.mismatch=!0,this.toastCtrl.create({message:this.resultObj.message,position:"top",duration:2700}).then(a=>{a.present()})):this.toastCtrl.create({message:this.resultObj.message,position:"top",duration:2700}).then(a=>{a.present()})},r=>{o.then(a=>{a.dismiss()}),this.toastCtrl.create({message:"Please check your network connectivity and try logging in again..",position:"top",duration:2700}).then(a=>{a.present()})})}}}return s.\u0275fac=function(i){return new(i||s)(e.Y36(t.SH),e.Y36(n.qu),e.Y36(w.eN),e.Y36(t.HT),e.Y36(t.yF))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-change-password"]],decls:25,vars:9,consts:[[1,"transparent-navbar","white-text"],["slot","start"],[1,"dark-bg","white-text","ion-padding"],[1,"full-content","password-form-wrapper"],[1,"msg-lighter","grey-text","msg-changepassword"],[1,"ion-text-center",3,"formGroup","ngSubmit"],[1,"form-list"],[1,"form-input-holder"],["type","password","formControlName","TxtPassword","name","TxtPassword","id","TxtPassword","value","","required","","autocomplete","off","placeholder","Old Password",1,"dark-input",3,"ngModel","ngModelChange","keyup"],["class","err-msg",4,"ngIf"],["type","password","formControlName","TxtNewPassword","name","TxtNewPassword","id","TxtNewPassword","value","","required","","autocomplete","off","placeholder","New Password",1,"dark-input",3,"ngModel","ngModelChange","keyup"],["type","password","formControlName","TxtConfPassword","name","TxtConfPassword","id","TxtConfPassword","value","","required","","autocomplete","off","placeholder","Re-Type Password",1,"dark-input",3,"ngModel","ngModelChange","keyup"],["type","submit","expand","block",1,"btn-submit",3,"click"],[1,"err-msg"]],template:function(i,o){1&i&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Change Password"),e.qZA()()(),e.TgZ(6,"ion-content",2)(7,"div",3)(8,"p",4),e._uU(9," Update your password by re-entering your old password "),e.qZA(),e.TgZ(10,"form",5),e.NdJ("ngSubmit",function(){return o.onSubmit(o.FrmChangePwd.value)}),e.TgZ(11,"ion-list",6)(12,"ion-item",7)(13,"ion-input",8),e.NdJ("ngModelChange",function(r){return o.model.password=r})("keyup",function(){return o.submitted=!1}),e.qZA()(),e.YNc(14,c,2,0,"div",9),e.YNc(15,P,2,0,"div",9),e.TgZ(16,"ion-item",7)(17,"ion-input",10),e.NdJ("ngModelChange",function(r){return o.model.newpassword=r})("keyup",function(){return o.submitted=!1}),e.qZA()(),e.YNc(18,f,2,0,"div",9),e.TgZ(19,"ion-item",7)(20,"ion-input",11),e.NdJ("ngModelChange",function(r){return o.model.confpassword=r})("keyup",function(){return o.submitted=!1}),e.qZA()(),e.YNc(21,C,2,0,"div",9),e.YNc(22,_,2,0,"div",9),e.qZA(),e.TgZ(23,"ion-button",12),e.NdJ("click",function(){return o.submitted=!0}),e._uU(24,"Submit"),e.qZA()()()()),2&i&&(e.xp6(10),e.Q6J("formGroup",o.FrmChangePwd),e.xp6(3),e.Q6J("ngModel",o.model.password),e.xp6(1),e.Q6J("ngIf",o.FrmChangePwd.controls.TxtPassword.hasError("required")&&o.submitted),e.xp6(1),e.Q6J("ngIf",o.mismatch&&o.submitted),e.xp6(2),e.Q6J("ngModel",o.model.newpassword),e.xp6(1),e.Q6J("ngIf",o.FrmChangePwd.controls.TxtNewPassword.hasError("required")&&o.submitted),e.xp6(2),e.Q6J("ngModel",o.model.confpassword),e.xp6(1),e.Q6J("ngIf",o.FrmChangePwd.controls.TxtNewPassword.value!=o.FrmChangePwd.controls.TxtConfPassword.value&&o.submitted),e.xp6(1),e.Q6J("ngIf",o.FrmChangePwd.controls.TxtConfPassword.hasError("required")&&o.submitted))},dependencies:[p.O5,n._Y,n.JJ,n.JL,n.Q7,t.oU,t.YG,t.Sm,t.W2,t.Gu,t.pK,t.Ie,t.q_,t.wd,t.sr,t.j9,t.cs,n.sg,n.u],styles:[".transparent-navbar[_ngcontent-%COMP%]{background:#065efe}.password-form-wrapper[_ngcontent-%COMP%]{margin-top:55px}.msg-changepassword[_ngcontent-%COMP%]{margin-bottom:15px}.login-form-list[_ngcontent-%COMP%]   .form-input-holder[_ngcontent-%COMP%]{background-color:#fff;margin-top:5px;margin-bottom:5px;border-radius:5px}.login-form-list[_ngcontent-%COMP%]   .form-input-holder[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{margin-left:0}"]}),s})()}];let v=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[m.Bz.forChild(T),m.Bz]}),s})(),y=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[p.ez,n.u5,t.Pc,v,n.UX]}),s})()}}]);