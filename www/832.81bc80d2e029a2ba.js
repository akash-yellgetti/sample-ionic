"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[832],{832:(y,m,i)=>{i.r(m),i.d(m,{LoginOtpPageModule:()=>_});var c=i(6895),r=i(433),l=i(8058),u=i(1407),d=i(4573),h=i(529),t=i(8274),f=i(579);function O(e,g){1&e&&(t.TgZ(0,"div",9),t._uU(1,"Enter OTP"),t.qZA())}const b=[{path:"",component:(()=>{class e{constructor(n,o,p,a,s,v,L){this.navCtrl=n,this.form=o,this.http=p,this.loadingCtrl=a,this.toastCtrl=s,this.events=v,this.activateRoute=L,this.model=new Array,this.submitted=!1,this.model.user_id=this.activateRoute.snapshot.paramMap.get("userID"),this.model.otp="",this.FrmLoginOtp=this.form.group({TxtOTP:[this.model.otp,r.kI.compose([r.kI.required])]})}ionViewDidLoad(){console.log("ionViewDidLoad LoginOtpPage")}onSubmit(n){if(this.FrmLoginOtp.valid){let o=this.loadingCtrl.create({message:"Please wait..."});o.then(a=>{a.present()}),this.http.post(d.L.baseURL+"/services/authLoginOtp",{client_key:d.L.client_key,user_id:this.model.user_id,login_otp:this.model.otp},{headers:(new h.WM).set("content-type","application/x-www-form-urlencoded")}).subscribe(a=>{o.then(s=>{s.dismiss()}),this.resultObj=a,200==this.resultObj.code?(localStorage.setItem("il_user_id",this.resultObj.user_id),localStorage.setItem("il_user_name",this.resultObj.user_name),localStorage.setItem("il_country_phone_code",this.resultObj.country_phone_code),localStorage.setItem("il_country_id",this.resultObj.country_id),localStorage.setItem("il_mobile",this.resultObj.mobile),localStorage.setItem("il_email",this.resultObj.email),localStorage.setItem("il_profile_complete_flag",this.resultObj.profile_complete_flag),localStorage.setItem("il_profile_pic",this.resultObj.profile_pic_path),this.events.publish("loc_device_update",this.resultObj.user_id),0==parseInt(localStorage.getItem("il_profile_complete_flag"))?this.navCtrl.navigateRoot("/regprofile"):2==parseInt(localStorage.getItem("il_profile_complete_flag"))?this.navCtrl.navigateRoot("/profile-gallery"):this.navCtrl.navigateRoot("/home")):this.toastCtrl.create({message:this.resultObj.message,position:"top",duration:2700}).then(s=>{s.present()})},a=>{o.then(s=>{s.dismiss()}),this.toastCtrl.create({message:"Please check your network connectivity and try logging in again..",position:"top",duration:2700}).then(s=>{s.present()})})}}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(l.SH),t.Y36(r.qu),t.Y36(h.eN),t.Y36(l.HT),t.Y36(l.yF),t.Y36(f.z),t.Y36(u.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login-otp"]],decls:12,vars:3,consts:[[1,"dark-bg","ion-padding"],[3,"formGroup","ngSubmit"],[1,"h1-header","reg-otp-header"],[1,"msg-lighter","grey-text","reg-otp-desc"],[1,"form-list","login-form-list"],[1,"form-input-holder","mobile-input-holder"],["type","text","placeholder","OTP","formControlName","TxtOTP",1,"mobile-input",3,"ngModel","ngModelChange"],["class","err-msg",4,"ngIf"],["type","submit","full","","round","","ion-button","",1,"btn-submit",3,"click"],[1,"err-msg"]],template:function(n,o){1&n&&(t.TgZ(0,"ion-content",0)(1,"form",1),t.NdJ("ngSubmit",function(){return o.onSubmit(o.FrmLoginOtp.value)}),t.TgZ(2,"p",2),t._uU(3," Login OTP "),t.qZA(),t.TgZ(4,"p",3),t._uU(5," Please enter the OTP to verify your mobile number "),t.qZA(),t.TgZ(6,"ion-list",4)(7,"ion-item",5)(8,"ion-input",6),t.NdJ("ngModelChange",function(a){return o.model.otp=a}),t.qZA()(),t.YNc(9,O,2,0,"div",7),t.qZA(),t.TgZ(10,"button",8),t.NdJ("click",function(){return o.submitted=!0}),t._uU(11,"Continue"),t.qZA()()()),2&n&&(t.xp6(1),t.Q6J("formGroup",o.FrmLoginOtp),t.xp6(7),t.Q6J("ngModel",o.model.otp),t.xp6(1),t.Q6J("ngIf",o.FrmLoginOtp.controls.TxtOTP.hasError("required")&&o.submitted))},dependencies:[c.O5,r._Y,r.JJ,r.JL,l.W2,l.pK,l.Ie,l.q_,l.j9,r.sg,r.u],styles:[".login-bg[_ngcontent-%COMP%]{background-color:#f1efef}.h1-header[_ngcontent-%COMP%]{color:#065efe}.reg-otp-header[_ngcontent-%COMP%]{font-size:2.5rem;margin-top:50px;margin-bottom:10px}.reg-otp-desc[_ngcontent-%COMP%]{margin-top:25px;margin-bottom:25px}.login-form-list[_ngcontent-%COMP%]   .form-input-holder[_ngcontent-%COMP%]{background-color:#fff;margin-top:5px;margin-bottom:5px;border-radius:5px}.login-form-list[_ngcontent-%COMP%]   .form-input-holder[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{margin-left:0}"]}),e})()}];let P=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(b),u.Bz]}),e})(),_=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,r.u5,l.Pc,P,r.UX]}),e})()}}]);