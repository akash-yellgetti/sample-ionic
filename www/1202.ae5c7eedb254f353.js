"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1202],{1202:(Z,p,m)=>{m.r(p),m.d(p,{ResetPasswordPageModule:()=>C});var g=m(6895),o=m(433),i=m(8058),u=m(1407),P=m(4573),h=m(529),e=m(8274);function c(t,a){1&t&&(e.TgZ(0,"div",14),e._uU(1,"Enter OTP"),e.qZA())}function f(t,a){1&t&&(e.TgZ(0,"div",14),e._uU(1,"OTP does not match"),e.qZA())}function w(t,a){1&t&&(e.TgZ(0,"div",14),e._uU(1,"Password is Mandatory"),e.qZA())}function T(t,a){1&t&&(e.TgZ(0,"div",14),e._uU(1,"Confirm Password does not match"),e.qZA())}function _(t,a){1&t&&(e.TgZ(0,"div",14),e._uU(1,"Confirm Password is Mandatory"),e.qZA())}const R=[{path:"",component:(()=>{class t{constructor(d,s,l,r,n,b,M,y){this.navCtrl=d,this.plt=s,this.toastCtrl=l,this.form=r,this.http=n,this.loadingCtrl=b,this.activateRoute=M,this.router=y,this.model=new Array,this.submitted=!1,this.mismatch=!1,this.model.user_id=this.activateRoute.snapshot.paramMap.get("userID"),this.model.otp="",this.model.password="",this.model.confpassword="",this.FrmResetPwd=this.form.group({TxtOTP:[this.model.otp,o.kI.compose([o.kI.required])],TxtPassword:[this.model.password,o.kI.compose([o.kI.required])],TxtConfPassword:[this.model.confpassword,o.kI.compose([o.kI.required])]})}ngAfterViewInit(){}ionViewDidLoad(){console.log("ionViewDidLoad ResetPasswordPage")}onSubmit(d){if(this.model.password===this.model.confpassword&&this.FrmResetPwd.valid){let s=this.loadingCtrl.create({message:"Please wait..."});s.then(r=>{r.present()}),this.http.post(P.L.baseURL+"/services/saveResetPwd",{client_key:P.L.client_key,user_id:this.model.user_id,otp:this.model.otp,password:this.model.password,confpassword:this.model.confpassword},{headers:(new h.WM).set("content-type","application/x-www-form-urlencoded")}).subscribe(r=>{s.then(n=>{n.dismiss()}),this.resultObj=r,200==this.resultObj.code?(this.toastCtrl.create({message:"Password changed successfully.",position:"top",duration:2700}).then(n=>{n.present()}),this.navCtrl.navigateForward("/login")):503==this.resultObj.code?(this.mismatch=!0,this.toastCtrl.create({message:this.resultObj.message,position:"top",duration:2700}).then(n=>{n.present()})):this.toastCtrl.create({message:this.resultObj.message,position:"top",duration:2700}).then(n=>{n.present()})},r=>{s.then(n=>{n.dismiss()}),this.toastCtrl.create({message:this.resultObj.message,position:"top",duration:2700}).then(n=>{n.present()})})}}}return t.\u0275fac=function(d){return new(d||t)(e.Y36(i.SH),e.Y36(i.t4),e.Y36(i.yF),e.Y36(o.qu),e.Y36(h.eN),e.Y36(i.HT),e.Y36(u.gz),e.Y36(u.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-reset-password"]],decls:23,vars:9,consts:[[1,"dark-bg","white-text","ion-padding"],[1,"logo-holder"],["src","../../assets/imgs/logo.png","alt","Logo",1,"logo-img"],[1,"h1-header"],[1,"msg-lighter","grey-text","mobile-reg-desc"],[1,"full-content","login-form-wrapper"],[1,"ion-text-center",3,"formGroup","ngSubmit"],[1,"form-list","login-form-list"],[1,"form-input-holder","mobile-input-holder"],["type","text","placeholder","OTP","formControlName","TxtOTP",1,"mobile-input",3,"ngModel","ngModelChange"],["class","err-msg",4,"ngIf"],["type","password","formControlName","TxtPassword","name","TxtPassword","id","TxtPassword","value","","required","","autocomplete","off","placeholder","Password",1,"mobile-input",3,"ngModel","ngModelChange","keyup"],["type","password","formControlName","TxtConfPassword","name","TxtConfPassword","id","TxtConfPassword","value","","required","","autocomplete","off","placeholder","Confirm Password",1,"mobile-input",3,"ngModel","ngModelChange","keyup"],["type","submit","expand","full",1,"btn-submit",3,"click"],[1,"err-msg"]],template:function(d,s){1&d&&(e.TgZ(0,"ion-content",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"p",3),e._uU(4," Reset Password "),e.qZA(),e.TgZ(5,"p",4),e._uU(6," Enter OTP received on your mobile number, and enter your new password. "),e.qZA(),e.TgZ(7,"div",5)(8,"form",6),e.NdJ("ngSubmit",function(){return s.onSubmit(s.FrmResetPwd.value)}),e.TgZ(9,"ion-list",7)(10,"ion-item",8)(11,"ion-input",9),e.NdJ("ngModelChange",function(r){return s.model.otp=r}),e.qZA()(),e.YNc(12,c,2,0,"div",10),e.YNc(13,f,2,0,"div",10),e.TgZ(14,"ion-item",8)(15,"ion-input",11),e.NdJ("ngModelChange",function(r){return s.model.password=r})("keyup",function(){return s.submitted=!1}),e.qZA()(),e.YNc(16,w,2,0,"div",10),e.TgZ(17,"ion-item",8)(18,"ion-input",12),e.NdJ("ngModelChange",function(r){return s.model.confpassword=r})("keyup",function(){return s.submitted=!1}),e.qZA()(),e.YNc(19,T,2,0,"div",10),e.YNc(20,_,2,0,"div",10),e.qZA(),e.TgZ(21,"ion-button",13),e.NdJ("click",function(){return s.submitted=!0}),e._uU(22,"Submit"),e.qZA()()()()),2&d&&(e.xp6(8),e.Q6J("formGroup",s.FrmResetPwd),e.xp6(3),e.Q6J("ngModel",s.model.otp),e.xp6(1),e.Q6J("ngIf",s.FrmResetPwd.controls.TxtOTP.hasError("required")&&s.submitted),e.xp6(1),e.Q6J("ngIf",s.mismatch&&s.submitted),e.xp6(2),e.Q6J("ngModel",s.model.password),e.xp6(1),e.Q6J("ngIf",s.FrmResetPwd.controls.TxtPassword.hasError("required")&&s.submitted),e.xp6(2),e.Q6J("ngModel",s.model.confpassword),e.xp6(1),e.Q6J("ngIf",s.FrmResetPwd.controls.TxtPassword.value!=s.FrmResetPwd.controls.TxtConfPassword.value&&s.submitted),e.xp6(1),e.Q6J("ngIf",s.FrmResetPwd.controls.TxtConfPassword.hasError("required")&&s.submitted))},dependencies:[g.O5,o._Y,o.JJ,o.JL,o.Q7,i.YG,i.W2,i.pK,i.Ie,i.q_,i.j9,o.sg,o.u],styles:[".h1-header[_ngcontent-%COMP%]{font-size:1.6rem;margin-bottom:10px}.logo-holder[_ngcontent-%COMP%]{display:inline-block;width:100%;margin-top:10px;text-align:center}.logo-img[_ngcontent-%COMP%]{display:inline-block;width:135px}.form-input-holder[_ngcontent-%COMP%]{margin-bottom:5px}.login-form-list[_ngcontent-%COMP%]   .form-input-holder[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{margin-left:0}"]}),t})()}];let v=(()=>{class t{}return t.\u0275fac=function(d){return new(d||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild(R),u.Bz]}),t})(),C=(()=>{class t{}return t.\u0275fac=function(d){return new(d||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.ez,o.u5,i.Pc,v,o.UX]}),t})()}}]);