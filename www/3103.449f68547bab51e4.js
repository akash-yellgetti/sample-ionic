"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3103],{3103:(Z,f,n)=>{n.r(f),n.d(f,{DiscoverPageModule:()=>C});var d=n(6895),h=n(433),r=n(8058),v=n(1407),w=n(655),p=n(4573),g=n(529),a=n(2480),e=n(8274);function x(i,s){if(1&i&&(e.TgZ(0,"span",25),e._uU(1),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(", ",t.age,"")}}function b(i,s){if(1&i&&(e.TgZ(0,"div",19)(1,"div",21),e._UZ(2,"img",22),e.TgZ(3,"div",23)(4,"div",24),e._uU(5),e.YNc(6,x,2,1,"span",31),e.qZA()()()()),2&i){const t=s.$implicit,o=e.oxw().$implicit;e.xp6(2),e.s9C("src",t.img_url,e.LSH),e.xp6(3),e.hij("",o.name," "),e.xp6(1),e.Q6J("ngIf",""!=o.age)}}function m(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",20)(2,"div",6)(3,"div",19)(4,"div",21),e._UZ(5,"img",22),e.TgZ(6,"div",23)(7,"div",24),e._uU(8),e.TgZ(9,"span",25),e._uU(10),e.qZA()()()()(),e.YNc(11,b,7,3,"div",7),e.qZA(),e._UZ(12,"div",26)(13,"div",27)(14,"div",28),e.qZA(),e.TgZ(15,"div",29),e.NdJ("click",function(){const c=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.reportUser(c.user_id))}),e._UZ(16,"ion-icon",30),e.qZA()()}if(2&i){const t=s.$implicit;e.xp6(5),e.s9C("src",t.profile_pic,e.LSH),e.xp6(3),e.hij("",t.name,", "),e.xp6(2),e.Oqu(t.age),e.xp6(1),e.Q6J("ngForOf",t.gallery)}}a.tq.use([a.W_,a.tl,a.LW,a.lI,a.xW,a.bi]);const P=[{path:"",component:(()=>{class i{constructor(t,o,l,c,u){this.navCtrl=t,this.http=o,this.platform=l,this.toastCtrl=c,this.alertCtrl=u,this.profiles=Array(),this.getDiscoverProfile()}ionViewDidEnter(){this.getDiscoverProfile(),setTimeout(()=>{this.initializeGallery()},1500)}getDiscoverProfile(){this.http.post(p.L.baseURL+"/services/getDiscoverProfile",{client_key:p.L.client_key,user_id:localStorage.getItem("il_user_id")},{headers:(new g.WM).set("content-type","application/x-www-form-urlencoded")}).subscribe(t=>{this.resultObj=t,200==this.resultObj.code&&(this.profiles=this.resultObj.profiles)},t=>{})}initializeGallery(){this.platform.ready().then(()=>{this.swiper=new a.tq(".swiper-container-outer",{touchStartForcePreventDefault:!0,speed:500,slidesPerView:1,spaceBetween:20,effect:"coverflow",coverflowEffect:{rotate:30,slideShadows:!1,depth:0},on:{slideChange:function(l){}}}),new a.tq(".swiper-container-inner",{touchStartForcePreventDefault:!0,speed:500,slidesPerView:1,spaceBetween:20,effect:"fade",allowTouchMove:!1,fadeEffect:{crossFade:!0},navigation:{nextEl:".swiper-button-next-inner",prevEl:".swiper-button-prev-inner"},pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(l,c){return'<span class="'+c+'">'+(l+1)+"</span>"}},on:{slideChange:function(l){}}})})}showProfile(){this.navCtrl.navigateForward("/profile")}showDiscover(){this.navCtrl.navigateForward("/discover")}goToHome(){this.navCtrl.navigateForward("/home")}reportUser(t){this.http.post(p.L.baseURL+"/services/reportUser",{client_key:p.L.client_key,user_id:localStorage.getItem("il_user_id"),reported_user_id:t},{headers:(new g.WM).set("content-type","application/x-www-form-urlencoded")}).subscribe(o=>{this.resultObj=o,200==this.resultObj.code?(this.showAlert("Flagged","User has been reported."),this.swiper.removeSlide(this.swiper.activeIndex),this.swiper.slideTo(this.swiper.activeIndex+1)):500==this.resultObj.code&&(this.showAlert("Flagged","User is already reported."),this.swiper.slideTo(this.swiper.activeIndex+1))},o=>{})}showAlert(t,o){return(0,w.mG)(this,void 0,void 0,function*(){const l=yield this.alertCtrl.create({cssClass:"my-custom-class",header:t,subHeader:"",message:o,buttons:["OK"]});yield l.present(),yield l.onDidDismiss()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.SH),e.Y36(g.eN),e.Y36(r.t4),e.Y36(r.yF),e.Y36(r.Br))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-discover"]],decls:26,vars:1,consts:[[1,"transparent-navbar","white-text"],["slot","start"],[1,"dark-bg","white-text"],[1,"swipper-holder"],[1,"swipper-holder-content"],[1,"swiper-container","swiper-container-outer"],[1,"swiper-wrapper"],["class","swiper-slide",4,"ngFor","ngForOf"],[1,"swiper-button-prev","swiper-button-prev-outer"],[1,"swiper-button-next","swiper-button-next-outer"],[1,"bottom-header-container"],["tappable","",1,"profile-link",3,"click"],["name","person-circle-sharp"],[1,"full-content","profile-text"],["tabbale","",1,"lets-link",3,"click"],["src","../../assets/imgs/logo.png",1,"lets-img"],[1,"discover-link"],["name","albums"],[1,"full-content","discover-text"],[1,"swiper-slide"],[1,"swiper-container","swiper-container-inner"],[1,"profiles-wrapper"],["alt","",1,"upload-img",3,"src"],[1,"profile-detail-holder"],[1,"profile-name-holder"],[1,"profile-age-holder"],[1,"swiper-pagination"],[1,"swiper-button-prev","swiper-button-prev-inner"],[1,"swiper-button-next","swiper-button-next-inner"],[1,"profile-flag",3,"click"],["name","flag"],["class","profile-age-holder",4,"ngIf"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Discover"),e.qZA()()(),e.TgZ(6,"ion-content",2)(7,"div",3)(8,"div",4)(9,"div",5)(10,"div",6),e.YNc(11,m,17,4,"div",7),e.qZA(),e._UZ(12,"div",8)(13,"div",9),e.qZA()()(),e.TgZ(14,"div",10)(15,"div",11),e.NdJ("click",function(){return o.showProfile()}),e._UZ(16,"ion-icon",12),e.TgZ(17,"div",13),e._uU(18,"Profile"),e.qZA()(),e.TgZ(19,"div",14),e.NdJ("click",function(){return o.goToHome()}),e._UZ(20,"img",15),e.qZA(),e.TgZ(21,"div",16),e._UZ(22,"ion-icon",17)(23,"br"),e.TgZ(24,"div",18),e._uU(25,"Discover"),e.qZA()()()()),2&t&&(e.xp6(11),e.Q6J("ngForOf",o.profiles))},dependencies:[d.sg,d.O5,r.oU,r.Sm,r.W2,r.Gu,r.gu,r.wd,r.sr,r.cs],styles:[".profiles-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;height:100%;overflow:hidden;justify-content:center;align-items:center;background-color:#000}.profile-detail-holder[_ngcontent-%COMP%]{position:absolute;bottom:35px;left:20px}.profile-name-holder[_ngcontent-%COMP%]{color:#fff;font-size:23px;font-weight:800;text-align:left}.profile-age-holder[_ngcontent-%COMP%]{color:#fff;font-size:18px;font-weight:600;text-align:left}.profile-flag[_ngcontent-%COMP%]{font-size:1.4rem;color:#fff;position:fixed;bottom:35px;right:20px;z-index:1000;background-color:#f80f0f;width:50px;height:50px;border-radius:50%;text-align:center;line-height:56px}.swiper-container[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.swiper-button-prev-outer[_ngcontent-%COMP%], .swiper-button-next-outer[_ngcontent-%COMP%]{display:none}.swiper-button-prev-inner[_ngcontent-%COMP%], .swiper-button-next-inner[_ngcontent-%COMP%]{opacity:0;min-height:100%;min-width:50%;top:0px}.swiper-button-prev.swiper-button-disabled[_ngcontent-%COMP%], .swiper-button-next.swiper-button-disabled[_ngcontent-%COMP%]{opacity:0}.swiper-pagination-bullet[_ngcontent-%COMP%]{border-radius:4px;display:inline-block;width:18px;height:8px;background:rgb(185,185,185);color:transparent;opacity:.5;pointer-events:auto}.swiper-pagination-bullet-active[_ngcontent-%COMP%]{background:#488aff;opacity:1}.swiper-pagination-fraction[_ngcontent-%COMP%], .swiper-pagination-custom[_ngcontent-%COMP%], .swiper-container-horizontal[_ngcontent-%COMP%] > .swiper-pagination-bullets[_ngcontent-%COMP%]{top:66px}.swipper-holder-content[_ngcontent-%COMP%]{background-color:#f8f8f8;box-shadow:0 4px 4px rgba(0,0,0,.55);-moz-box-shadow:0px 4px 4px 0px rgba(0,0,0,.55);-webkit-box-shadow:0px 4px 4px 0px rgba(0,0,0,.55);border-radius:15px;-webkit-border-radius:15px;-moz-border-radius:15px}"]}),i})()}];let _=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[v.Bz.forChild(P),v.Bz]}),i})(),C=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[d.ez,h.u5,r.Pc,_]}),i})()}}]);